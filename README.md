# SPEEDY COURIER SERVICE
Speedy Courier is a comprehensive courier management system designed for administrative use. This system Uses an Oracle database for real-time data management and a Node.js (Express) server for handling backend operations. The project provides various features, including sending parcels, tracking parcels, printing slips, viewing and updating prices, deleting parcels, and viewing order history.
## Features
- **Send Parcel:** Admins can register new parcels to be sent.
- **Track Parcel:** Admins can track the status of parcels in real-time.
- **Print Slip:** Admins can print delivery slips, with the option to download them in PDF format.
- **View Prices:** Displays prices in a table format, and admins can update prices as needed.
- **Delete Parcel:** Admins can delete parcels from the system.
- **Order History:** View the history of all orders handled by the system.

## Installation

1. Clone the repository:
```
git clone https://github.com/your-username/speedy-courier.git
cd speedy-courier
```

2. Install backend dependencies:
```
cd backend
npm install express body-parser cors oracledb
```

3. Setup Oracle Database:
- Ensure you have an Oracle database set up and running.
- Configure your database connection in the server.js file.

## Database Schema
1. Table Creation & Trigers & Procedures
```
  CREATE TABLE PARCELS 
   (	"ID" NUMBER GENERATED BY DEFAULT AS IDENTITY,
	RECEIVER_ADDRESS VARCHAR2(225 BYTE), 
	RECEIVER_PHONE VARCHAR2(20 BYTE), 
	PARCEL_NAME VARCHAR2(100 BYTE), 
	PARCEL_WEIGHT VARCHAR2(30 BYTE), 
	PARCEL_DATE DATE, 
	EMPLOYEE_ID NUMBER, 
	 PRIMARY KEY ("ID"));
     
    DROP TABLE customers CASCADE CONSTRAINTS;
        
   CREATE TABLE CUSTOMERS
   (CUSTOMER_ID NUMBER, 
	CUSTOMER_NAME VARCHAR2(100 BYTE), 
	CUSTOMER_PHONE VARCHAR2(20 BYTE), 
	CUSTOMER_EMAIL VARCHAR2(100 BYTE), 
	CUSTOMER_ADDRESS VARCHAR2(225 BYTE), 
	 PRIMARY KEY (CUSTOMER_ID)
     );

     

  CREATE TABLE TRACKINGS
   (	ORDER_ID NUMBER, 
	"STATUS" VARCHAR2(100 BYTE), 
	 PRIMARY KEY ("ORDER_ID")
     ); 
     
CREATE TABLE PRICE
   (WEIGHTRANGE VARCHAR2(255 BYTE), 
	PRICE NUMBER
    );
    
DROP TABLE employees CASCADE CONSTRAINTS;


CREATE TABLE EMPLOYEES
   (EMP_ID NUMBER, 
	EMP_NAME VARCHAR2(255 BYTE), 
	EMP_SAL NUMBER, 
	 PRIMARY KEY (EMP_ID)
     );
    
-- Creating triggers

CREATE OR REPLACE TRIGGER TRGAFTERINSERTPARCELS 
AFTER INSERT ON parcels
FOR EACH ROW
BEGIN
    INSERT INTO Trackings (order_id, status)
    VALUES (:NEW.id, 'dispatched');
END;
/

CREATE OR REPLACE TRIGGER TRGAFTERDELETEPARCELS
AFTER DELETE ON parcels
FOR EACH ROW
BEGIN
    DELETE FROM Trackings
    WHERE order_id = :OLD.id;
END;
/

CREATE OR REPLACE TRIGGER TRG_DELETE_CUSTOMER
AFTER DELETE ON parcels
FOR EACH ROW
BEGIN
    DELETE FROM customers
    WHERE customer_id = :OLD.ID;
END;
/

--creating sequence

CREATE SEQUENCE CUSTOMER_SEQ START WITH 1 INCREMENT BY 1;

CREATE OR REPLACE PROCEDURE insert_parcel_and_customer(
    p_receiver_address IN PARCELS.RECEIVER_ADDRESS%TYPE,
    p_receiver_phone IN PARCELS.RECEIVER_PHONE%TYPE,
    p_parcel_name IN PARCELS.PARCEL_NAME%TYPE,
    p_parcel_weight IN PARCELS.PARCEL_WEIGHT%TYPE,
    p_parcel_date IN PARCELS.PARCEL_DATE%TYPE,
    p_customer_name IN CUSTOMERS.CUSTOMER_NAME%TYPE,
    p_customer_phone IN CUSTOMERS.CUSTOMER_PHONE%TYPE,
    p_customer_email IN CUSTOMERS.CUSTOMER_EMAIL%TYPE,
    p_customer_address IN CUSTOMERS.CUSTOMER_ADDRESS%TYPE,
    p_employee_id IN PARCELS.EMPLOYEE_ID%TYPE
)
IS
    v_customer_id CUSTOMERS.CUSTOMER_ID%TYPE;
BEGIN
    -- Generate a new customer ID
    SELECT CUSTOMER_SEQ.NEXTVAL INTO v_customer_id FROM DUAL;
    
    -- Insert into CUSTOMERS table
    INSERT INTO CUSTOMERS (
        CUSTOMER_ID,
        CUSTOMER_NAME,
        CUSTOMER_PHONE,
        CUSTOMER_EMAIL,
        CUSTOMER_ADDRESS
    ) VALUES (
        v_customer_id,
        p_customer_name,
        p_customer_phone,
        p_customer_email,
        p_customer_address
    );

    -- Insert into PARCELS table
    INSERT INTO PARCELS (
        RECEIVER_ADDRESS,
        RECEIVER_PHONE,
        PARCEL_NAME,
        PARCEL_WEIGHT,
        PARCEL_DATE,
        EMPLOYEE_ID
    ) VALUES (
        p_receiver_address,
        p_receiver_phone,
        p_parcel_name,
        p_parcel_weight,
        p_parcel_date,
        p_employee_id
    );
END;
/
```
## Start the server
```
npm start

```
